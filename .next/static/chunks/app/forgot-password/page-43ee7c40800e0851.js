(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{29978:function(e,a,t){Promise.resolve().then(t.bind(t,49843))},31757:function(e,a,t){"use strict";var s=t(57437),r=t(2265),c=t(75204),n=t(95328),l=t(15785),u=t(17590),o=t(48347),i=t(83343);a.Z=e=>{let{label:a,type:t,value:d,onChange:m,placeholder:h,required:f=!1}=e,p={text:(0,s.jsx)(c.Z,{className:"text-teal-500"}),email:(0,s.jsx)(n.Z,{className:"text-teal-500"}),password:(0,s.jsx)(l.Z,{className:"text-teal-500"}),date:(0,s.jsx)(i.Z,{className:"text-teal-500"})},[x,g]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"relative text-gray-700 dark:text-white ",children:[(0,s.jsxs)("div",{className:"field flex items-center",children:[p[t],(0,s.jsx)("input",{type:"password"===t?x?"text":"password":t,value:d,onChange:m,placeholder:h,className:" input-field"})]}),"password"===t&&(0,s.jsx)("div",{onClick:()=>{g(!x)},className:"absolute inset-y-0 right-4 flex items-center cursor-pointer",children:x?(0,s.jsx)(u.default,{className:"text-teal-500"}):(0,s.jsx)(o.default,{className:"text-teal-500"})})]})})}},49843:function(e,a,t){"use strict";t.r(a);var s=t(57437),r=t(2265),c=t(31757),n=t(79404),l=t(20273),u=t(27032);a.default=()=>{let[e]=n.Z.useForm(),[a,t]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[d,m]=(0,r.useState)("");return(0,s.jsxs)("div",{className:"bg-white p-8 rounded text-center w-100 h-100",children:[(0,s.jsx)("h1",{className:"text-4xl font-semibold text-green-600 mb-6",children:"Restablecer Contrase\xf1a"}),(0,s.jsxs)(n.Z,{form:e,children:[(0,s.jsx)(c.Z,{label:"Correo electr\xf3nico",type:"email",value:a,onChange:e=>t(e.target.value),placeholder:"Your email",required:!0}),(0,s.jsx)("button",{onClick:u.uP,className:"text-white bg-green-600 rounded p-2 w-full",children:"Restablecer Contrase\xf1a"})]}),o&&(0,s.jsx)(l.Z,{message:o,type:"success",className:"mt-2"}),d&&(0,s.jsx)(l.Z,{message:d,type:"error",className:"mt-2"})]})}},27032:function(e,a,t){"use strict";t.d(a,{TT:function(){return deleteGame},Ti:function(){return searchGamesByName},aC:function(){return useAuth},dz:function(){return createGame},m7:function(){return getGames},uH:function(){return uploadImageToFirebaseStorage},uP:function(){return handleResetPassword},vm:function(){return getCards},zB:function(){return signIn}});var s=t(20994),r=t(53085),c=t(15663),n=t(24086),l=t(2265),u=t(69584);let o=(0,s.ZF)({apiKey:"AIzaSyB-fA9kv0DVDRqragYCgii_C6Qgj-pBG1s",authDomain:"pixel-palacebaclup.firebaseapp.com",projectId:"pixel-palacebaclup",storageBucket:"pixel-palacebaclup.appspot.com",messagingSenderId:"372391412137",appId:"1:372391412137:web:ef0490cc6f1a104b6ac4b8"}),i=(0,r.v0)(),d=(0,n.ad)(o),m=(0,u.cF)(o);async function uploadImageToFirebaseStorage(e){let a=(0,u.iH)(m,e.name);try{await (0,u.KV)(a,e);let t=await (0,u.Jt)(a);return t}catch(e){return console.error("Error al subir la imagen",e),null}}let signIn=async(e,a,t)=>{try{let s=t?r.Xb:c.e5,l=await s(i,e.email,a);if(t){let a=l.user.uid,t=(0,n.JU)(d,"users",a),s={nombre:e.name,apellido:e.lastName,email:e.email,fechaNacimiento:e.birthdate,userName:e.username};await (0,n.pl)(t,s)}return l}catch(e){console.error("Hubo un problema, revisa tus datos")}},handleResetPassword=async()=>{try{let e=(0,r.v0)();await sendPasswordResetEmail(e,email),setSuccessMessage("Se ha enviado un correo electr\xf3nico para restablecer tu contrase\xf1a. Por favor, verifica tu bandeja de entrada."),setErrorMessage("")}catch(e){setSuccessMessage(""),setErrorMessage("Hubo un error al enviar la solicitud de restablecimiento de contrase\xf1a. Verifica que el correo electr\xf3nico sea v\xe1lido.")}},useAuth=()=>{let[e,a]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=(0,r.Aj)(i,e=>{a(e)});return()=>e()},[]),{user:e,cerrarSesion:()=>{(0,r.w7)(i)}}},createGame=async e=>{console.log(e,"firebase");try{let a="juegos";"Card"===e.type&&(a="tarjeta");let t=await (0,n.ET)((0,n.hJ)(d,a),e);return console.log(t.id),{success:!0,gameId:t.id}}catch(e){return{success:!1,error:e.message}}},getGames=async()=>{try{let e=(0,n.hJ)(d,"juegos"),a=(0,n.IO)(e),t=await (0,n.PL)(a),s=[];return t.forEach(e=>{let a=e.data();s.push({id:e.id,...a})}),{success:!0,games:s}}catch(e){return{success:!1,error:e.message}}},getCards=async()=>{try{let e=(0,n.hJ)(d,"tarjeta"),a=(0,n.IO)(e),t=await (0,n.PL)(a),s=[];return t.forEach(e=>{let a=e.data();s.push({id:e.id,...a})}),{success:!0,card:s}}catch(e){return{success:!1,error:e.message}}},searchGamesByName=async e=>{try{let a=(0,n.hJ)(d,"juegos"),t=(0,n.IO)(a,where("nombre",">=",e).where("nombre","<=",e+"ï£¿")),s=await (0,n.PL)(t);console.log(t);let r=[];return s.forEach(e=>{let a=e.data();r.push({id:e.id,...a})}),r}catch(e){return console.error("Error al buscar juegos:",e),[]}},deleteGame=async e=>{try{return await (0,n.oe)((0,n.JU)(d,"juegos",e)),{success:!0}}catch(e){return{success:!1,error:e.message}}}}},function(e){e.O(0,[358,578,315,856,971,472,744],function(){return e(e.s=29978)}),_N_E=e.O()}]);