"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{636:function(e,a,t){t.d(a,{Z:function(){return Header}});var s=t(57437),r=t(2265),l=t(24033),n=t(79404),i=t(20273),o=t(33116),c=t(27032),login=e=>{let{onClose:a}=e,[t]=n.Z.useForm(),[d,u]=(0,r.useState)(null),[h,x]=(0,r.useState)(!1);(0,l.useRouter)();let[g,m]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),handleLogin=async()=>{if(!g||!p){u("Por favor complete todos los campos.");return}try{let e=await (0,c.zB)({email:g},p,!1);e?(x(!0),a()):o.ZP.error("Inicio de sesi\xf3n fallido. Verifica tus credenciales.")}catch(e){console.error("Error al iniciar sesi\xf3n:",e)}};return(0,s.jsx)("div",{className:"card dark:bg-white bg-gray-100 ",children:(0,s.jsxs)("div",{className:"card2 dark:bg-white bg-gray-100 ",children:[(0,s.jsxs)(n.Z,{className:"form dark:bg-gray-900 bg-gray-100",form:t,onFinish:()=>{handleLogin()},children:[(0,s.jsx)("p",{className:"heading text-gray-900 dark:text-white",children:"Login"}),(0,s.jsxs)("div",{className:"field dark:bg-gray-900 ",children:[(0,s.jsx)("svg",{viewBox:"0 0 16 16",fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"input-icon",children:(0,s.jsx)("path",{d:"M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"})}),(0,s.jsx)("input",{type:"email",className:"input-field",value:g,onChange:e=>m(e.target.value),placeholder:"Username",autoComplete:"off",required:!0})]}),(0,s.jsxs)("div",{className:"field dark:bg-gray-900",children:[(0,s.jsx)("svg",{viewBox:"0 0 16 16",fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"input-icon",children:(0,s.jsx)("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"})}),(0,s.jsx)("input",{type:"password",className:"input-field",placeholder:"Password",value:p,onChange:e=>b(e.target.value),required:!0})]}),(0,s.jsx)("div",{className:"btn",children:(0,s.jsx)("button",{className:"button1 text-white sm:w-1/2 xl:w-1/3 md:w-1/3 dark:text-white",type:"submit",children:"\xa0\xa0\xa0\xa0\xa0\xa0Login\xa0\xa0\xa0\xa0\xa0\xa0"})}),(0,s.jsx)("button",{className:"button3",onClick:()=>window.location.href="password",children:"Forgot Password"})]}),d&&(0,s.jsx)(i.Z,{message:d,type:"error",className:"mt-2"}),h&&o.ZP.info("Inicio de sesi\xf3n exitoso")]})})},d=t(31757),u=t(2114);function RandomAvatar(){let e=function(){let e=Math.random().toString(36).substring(7);return"https://robohash.org/".concat(e)}();return(0,s.jsx)(u.ZP,{className:"dark:bg-gray-200 w-[5em] h-[3em]",src:e})}var registro=e=>{let{onClose:a}=e,[t,l]=(0,r.useState)(1),[n,u]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[g,m]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),[j,w]=(0,r.useState)(""),[f,y]=(0,r.useState)(""),[N,v]=(0,r.useState)(""),[k,S]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(""),handleNext=async()=>{if(1===t){if(console.log(t),!n||!h||!g||!p){Z("Por favor complete todos los campos.");return}l(2)}else if(2===t){if(j!==f){Z("Las contrase\xf1as no coinciden.");return}let e=await (0,c.zB)({email:p,password:j,name:n,lastName:h,username:g,birthdate:N},j,!0);e?(S(!0),a()):o.ZP.error("Registration failed. The provided email is already associated with an existing account.")}};return(0,s.jsx)("div",{className:"card dark:bg-white bg-gray-100",children:(0,s.jsxs)("div",{className:"card2 bg-white p-8 rounded text-center w-100 h-100 dark:bg-gray-900",children:[(0,s.jsx)("h1",{className:"heading text-gray-900 dark:text-white",children:"Register"}),k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(RandomAvatar,{}),(0,s.jsx)("p",{className:"text-green-600 mt-4 mb-4 dark:text-primary",children:"\xa1Successful registration!"})]}):(0,s.jsxs)("form",{className:"grid grid-cols-2 gap-4",children:[1===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{label:"Name",type:"text",value:n,onChange:e=>u(e.target.value),placeholder:"Your name",required:!0}),(0,s.jsx)(d.Z,{label:"Lastname",type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Your lastname",required:!0}),(0,s.jsx)(d.Z,{label:"User's Name",type:"text",value:g,onChange:e=>m(e.target.value),placeholder:"Your User's Name",required:!0}),(0,s.jsx)(d.Z,{label:"Email",type:"email",value:p,onChange:e=>b(e.target.value),placeholder:"Your email",required:!0})]}),2===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{label:"Password",type:"password",value:j,onChange:e=>w(e.target.value),placeholder:"Your password",required:!0}),(0,s.jsx)(d.Z,{label:"Password confirm",type:"password",value:f,onChange:e=>y(e.target.value),placeholder:"Confirm your password",required:!0}),(0,s.jsx)(d.Z,{label:"Birthday",type:"date",value:N,onChange:e=>v(e.target.value),placeholder:"Your birthday",required:!0})]}),(0,s.jsxs)("div",{className:"col-span-2 space-x-4",children:[2===t&&(0,s.jsx)("button",{type:"button",onClick:()=>{2===t&&l(1)},className:"button1 bg-green-600 hover:bg-green-500 text-white dark:bg-primary dark:hover:bg-green-700 dark:text-black w-1/3 py-3 rounded-md transition-colors duration-300 focus:outline-none focus:ring focus:ring-primary-500",children:"Back"}),(0,s.jsx)("button",{type:"button",onClick:handleNext,className:"button1 text-white w-1/3 dark:text-white",children:1===t?"Next":"Finish"})]})]}),C&&(0,s.jsx)(i.Z,{type:"success",className:"text-red-500 mt-2",message:C})]})})},h=t(83570),x=t(88110),g=t.n(x),m=t(33071),p=t(57614);let{TabPane:b}=h.default;var components_AuthModal=e=>{let{isOpen:a,onClose:t,initialTab:l}=e,[n,i]=(0,r.useState)(l);return(0,s.jsxs)(m.Z,{open:a,onCancel:t,footer:null,centered:!0,width:800,closeIcon:!1,className:"bg-white dark:bg-gray-500 rounded-md",children:[(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)(g(),{type:"text",onClick:t,children:(0,s.jsx)(p.default,{className:"dark:text-gray-100 text-gray-900"})})}),(0,s.jsxs)(h.default,{activeKey:n.toString(),onChange:e=>i(Number(e)),centered:!0,children:[(0,s.jsx)(b,{tab:(0,s.jsx)("span",{className:"dark:text-gray-100 text-gray-900",children:"Sign In"}),children:(0,s.jsx)(login,{onClose:t,isOpen:!1,initialTab:0})},"0"),(0,s.jsx)(b,{tab:(0,s.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:"Sign Up"}),children:(0,s.jsx)(registro,{onClose:t,isOpen:!1,initialTab:0})},"1")]})]})},j=t(43574),w=t(21161),f=t(75204),y=t(90986),N=t(13987),v=t(80603),k=t(16691),S=t.n(k),C=t(6435),Header=()=>{let[e,a]=(0,r.useState)(!1),[t,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[x,g]=(0,r.useState)([]),{user:m,cerrarSesion:p}=(0,c.aC)(),openLoginModal=()=>{a(!0),o&&toggleMobileUser()},handleSignOut=async()=>{await p(),window.location.href="/"},openRegisterModal=()=>{l(!0),o&&toggleMobileUser()},toggleMobileMenu=()=>{i(!n)},toggleMobileUser=()=>{d(!o)},handleSearch=async()=>{if(""===u.trim()){g([]);return}let e=await (0,c.Ti)(u);g(e)},{systemTheme:b,theme:k,setTheme:Z}=(0,C.F)(),[M,P]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{P(!0)},[]),M)?(0,s.jsx)(C.f,{enableSystem:!0,attribute:"class",children:(0,s.jsxs)("div",{className:" bg-gradient-to-r from-teal-800 via-transparent to-indigo-800 p-4 flex items-center justify-between fixed w-full top-0 z-10 dark:bg-gradient-dark",children:[(0,s.jsxs)("nav",{className:"lg:hidden bg-teal-500",children:[(0,s.jsx)("button",{onClick:toggleMobileMenu,className:"bg-gray-900",children:(0,s.jsx)(N.Z,{className:"text-3xl dark: text-white"})}),n&&(0,s.jsx)(w.Z,{className:"bg-white absolute top-16 p-4 rounded shadow-md dark:bg-gray-900 text-gray-900",placement:"left",closable:!0,onClose:toggleMobileMenu,open:n,closeIcon:(0,s.jsx)(v.Z,{className:"text-white text-3xl"}),children:(0,s.jsxs)("ul",{className:"space-y-2 text-white",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Library"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"News"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Community"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Support"})})]})})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"Logo",className:"w-10 h-10 mr-2 flex items-center dark:bg-gray-700 bg-white",onClick:()=>window.location.href="/"}),(0,s.jsx)("h1",{className:"text-black text-xl font-bold dark:text-white",children:"Better if possible"})]}),(0,s.jsxs)("div",{className:"lg:hidden flex items-center space-x-4",children:[(0,s.jsx)(w.Z,{className:"bg-white absolute top-16 p-4 rounded shadow-md dark:bg-gray-900 text-gray-900",placement:"right",closable:!0,onClose:toggleMobileUser,open:o,closeIcon:(0,s.jsx)(v.Z,{className:"text-white text-3xl"}),children:(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(j.Z,{type:"text",placeholder:"Search",className:"input-field dark:text-white text-white border border-green-500 rounded ",value:u,onChange:e=>h(e.target.value),addonBefore:(0,s.jsx)(y.default,{className:"text-white text-3xl"}),onPressEnter:handleSearch})}),m?(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:handleSignOut,className:"text-primary border rounded border-primary p-2 w-full",children:"Sign out"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:openLoginModal,className:"button1 border rounded border-white p-2 w-full bg-white text-bold",children:"Sign in"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:openRegisterModal,className:"button2 text-white bg-gray-900 rounded p-2 w-full",children:"Sign up"})})]})]})}),m||!m?(0,s.jsx)("button",{onClick:toggleMobileUser,className:"text-white",children:(0,s.jsx)(f.Z,{className:"text-3xl"})}):null]}),(0,s.jsxs)("div",{className:"lg:flex hidden items-center space-x-4",children:[(0,s.jsx)(j.Z,{type:"text",placeholder:"Search",className:" dark:text-black border border-gray-900 rounded",value:u,onChange:e=>h(e.target.value),addonBefore:(0,s.jsx)(y.default,{className:"text-white text-3xl dark:text-white"}),onPressEnter:handleSearch}),(0,s.jsx)("div",{children:"dark"===("system"===k?b:k)?(0,s.jsxs)("button",{className:"bg-black-700 hover:bg-gray-300 w-12 rounded-md border-primary border-2 p-3 dark:border-gray-600",onClick:()=>Z("light"),children:[" ",(0,s.jsx)(S(),{src:"/sun.svg",alt:"logo",height:"20",width:"20"})]}):(0,s.jsx)("button",{className:"bg-black-700 w-12 rounded-md border-primary border-2 p-3 hover:bg-gray-300 dark:border-gray-600",onClick:()=>Z("dark"),children:(0,s.jsx)(S(),{src:"/moon.svg",alt:"logo",height:"20",width:"20"})})}),m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(RandomAvatar,{}),(0,s.jsx)("button",{onClick:p,className:"text-white",children:"Sign out"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:openLoginModal,className:"text-black dark:text-white",style:{width:"100px"},children:"Sign in"}),(0,s.jsx)("span",{className:"text-black dark:text-white",children:"|"}),(0,s.jsx)("button",{onClick:openRegisterModal,className:"text-black dark:text-white ",style:{width:"100px"},children:"Sign up"})]})]}),(0,s.jsx)(components_AuthModal,{isOpen:e,onClose:()=>{a(!1)},initialTab:0}),(0,s.jsx)(components_AuthModal,{isOpen:t,onClose:()=>{l(!1)},initialTab:1})]})}):null}},31757:function(e,a,t){var s=t(57437),r=t(2265),l=t(75204),n=t(95328),i=t(15785),o=t(17590),c=t(48347),d=t(83343);a.Z=e=>{let{label:a,type:t,value:u,onChange:h,placeholder:x,required:g=!1}=e,m={text:(0,s.jsx)(l.Z,{className:"text-teal-500"}),email:(0,s.jsx)(n.Z,{className:"text-teal-500"}),password:(0,s.jsx)(i.Z,{className:"text-teal-500"}),date:(0,s.jsx)(d.Z,{className:"text-teal-500"})},[p,b]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"relative text-gray-700 dark:text-white ",children:[(0,s.jsxs)("div",{className:"field flex items-center",children:[m[t],(0,s.jsx)("input",{type:"password"===t?p?"text":"password":t,value:u,onChange:h,placeholder:x,className:" input-field"})]}),"password"===t&&(0,s.jsx)("div",{onClick:()=>{b(!p)},className:"absolute inset-y-0 right-4 flex items-center cursor-pointer",children:p?(0,s.jsx)(o.default,{className:"text-teal-500"}):(0,s.jsx)(c.default,{className:"text-teal-500"})})]})})}},27032:function(e,a,t){t.d(a,{TT:function(){return deleteGame},Ti:function(){return searchGamesByName},aC:function(){return useAuth},dz:function(){return createGame},m7:function(){return getGames},uH:function(){return uploadImageToFirebaseStorage},uP:function(){return handleResetPassword},vm:function(){return getCards},zB:function(){return signIn}});var s=t(20994),r=t(53085),l=t(15663),n=t(24086),i=t(2265),o=t(69584);let c=(0,s.ZF)({apiKey:"AIzaSyB-fA9kv0DVDRqragYCgii_C6Qgj-pBG1s",authDomain:"pixel-palacebaclup.firebaseapp.com",projectId:"pixel-palacebaclup",storageBucket:"pixel-palacebaclup.appspot.com",messagingSenderId:"372391412137",appId:"1:372391412137:web:ef0490cc6f1a104b6ac4b8"}),d=(0,r.v0)(),u=(0,n.ad)(c),h=(0,o.cF)(c);async function uploadImageToFirebaseStorage(e){let a=(0,o.iH)(h,e.name);try{await (0,o.KV)(a,e);let t=await (0,o.Jt)(a);return t}catch(e){return console.error("Error al subir la imagen",e),null}}let signIn=async(e,a,t)=>{try{let s=t?r.Xb:l.e5,i=await s(d,e.email,a);if(t){let a=i.user.uid,t=(0,n.JU)(u,"users",a),s={nombre:e.name,apellido:e.lastName,email:e.email,fechaNacimiento:e.birthdate,userName:e.username};await (0,n.pl)(t,s)}return i}catch(e){console.error("Hubo un problema, revisa tus datos")}},handleResetPassword=async()=>{try{let e=(0,r.v0)();await sendPasswordResetEmail(e,email),setSuccessMessage("Se ha enviado un correo electr\xf3nico para restablecer tu contrase\xf1a. Por favor, verifica tu bandeja de entrada."),setErrorMessage("")}catch(e){setSuccessMessage(""),setErrorMessage("Hubo un error al enviar la solicitud de restablecimiento de contrase\xf1a. Verifica que el correo electr\xf3nico sea v\xe1lido.")}},useAuth=()=>{let[e,a]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=(0,r.Aj)(d,e=>{a(e)});return()=>e()},[]),{user:e,cerrarSesion:()=>{(0,r.w7)(d)}}},createGame=async e=>{console.log(e,"firebase");try{let a="juegos";"Card"===e.type&&(a="tarjeta");let t=await (0,n.ET)((0,n.hJ)(u,a),e);return console.log(t.id),{success:!0,gameId:t.id}}catch(e){return{success:!1,error:e.message}}},getGames=async()=>{try{let e=(0,n.hJ)(u,"juegos"),a=(0,n.IO)(e),t=await (0,n.PL)(a),s=[];return t.forEach(e=>{let a=e.data();s.push({id:e.id,...a})}),{success:!0,games:s}}catch(e){return{success:!1,error:e.message}}},getCards=async()=>{try{let e=(0,n.hJ)(u,"tarjeta"),a=(0,n.IO)(e),t=await (0,n.PL)(a),s=[];return t.forEach(e=>{let a=e.data();s.push({id:e.id,...a})}),{success:!0,card:s}}catch(e){return{success:!1,error:e.message}}},searchGamesByName=async e=>{try{let a=(0,n.hJ)(u,"juegos"),t=(0,n.IO)(a,where("nombre",">=",e).where("nombre","<=",e+"")),s=await (0,n.PL)(t);console.log(t);let r=[];return s.forEach(e=>{let a=e.data();r.push({id:e.id,...a})}),r}catch(e){return console.error("Error al buscar juegos:",e),[]}},deleteGame=async e=>{try{return await (0,n.oe)((0,n.JU)(u,"juegos",e)),{success:!0}}catch(e){return{success:!1,error:e.message}}}}}]);