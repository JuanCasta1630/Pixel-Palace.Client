"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/gift-cards/page",{

/***/ "(app-pages-browser)/./src/app/services/firebase.js":
/*!**************************************!*\
  !*** ./src/app/services/firebase.js ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGame: function() { return /* binding */ createGame; },\n/* harmony export */   deleteGame: function() { return /* binding */ deleteGame; },\n/* harmony export */   getCardDetails: function() { return /* binding */ getCardDetails; },\n/* harmony export */   getCards: function() { return /* binding */ getCards; },\n/* harmony export */   getGameDetails: function() { return /* binding */ getGameDetails; },\n/* harmony export */   getGames: function() { return /* binding */ getGames; },\n/* harmony export */   handleResetPassword: function() { return /* binding */ handleResetPassword; },\n/* harmony export */   registerUser: function() { return /* binding */ registerUser; },\n/* harmony export */   searchGamesByName: function() { return /* binding */ searchGamesByName; },\n/* harmony export */   signIn: function() { return /* binding */ signIn; },\n/* harmony export */   updateGame: function() { return /* binding */ updateGame; },\n/* harmony export */   uploadImageToFirebaseStorage: function() { return /* binding */ uploadImageToFirebaseStorage; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(app-pages-browser)/./node_modules/firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth_cordova__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth/cordova */ \"(app-pages-browser)/./node_modules/firebase/auth/cordova/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/storage */ \"(app-pages-browser)/./node_modules/firebase/storage/dist/esm/index.esm.js\");\n// Importa las funciones necesarias de Firebase\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n// const firebaseConfig = {\n//   apiKey: \"AIzaSyB4G-wTDBmEoVObZMEUYKR8x1_KO8hyhMo\",\n//   authDomain: \"pixel-palace-d6bff.firebaseapp.com\",\n//   projectId: \"pixel-palace-d6bff\",\n//   storageBucket: \"pixel-palace-d6bff.appspot.com\",\n//   messagingSenderId: \"273766258888\",\n//   appId: \"1:273766258888:web:81ca0568c914fbceacedfd\",\n//   measurementId: \"G-2P1CY9ZRG0\",\n// };\nconst firebaseConfig = {\n    apiKey: \"AIzaSyB-fA9kv0DVDRqragYCgii_C6Qgj-pBG1s\",\n    authDomain: \"pixel-palacebaclup.firebaseapp.com\",\n    projectId: \"pixel-palacebaclup\",\n    storageBucket: \"pixel-palacebaclup.appspot.com\",\n    messagingSenderId: \"372391412137\",\n    appId: \"1:372391412137:web:ef0490cc6f1a104b6ac4b8\"\n};\n// Inicializa Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)();\nconst firestore = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getFirestore)(app); // Agrega Firestore a tu instancia de Firebase\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.getStorage)(app);\nconst registerUser = async (email1, password, name, lastName, userName, birthdate)=>{\n    try {\n        // Crea un usuario en Firebase Authentication\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.createUserWithEmailAndPassword)(auth, email1, password);\n        // Obtén el ID de usuario generado por Firebase Authentication\n        const userId = userCredential.user.uid;\n        // Crea un nuevo documento de usuario en la colección 'users' en Firebase Firestore\n        const userDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(firestore, \"users\", userId);\n        const userData = {\n            nombre: name,\n            apellido: lastName,\n            fechaNacimiento: birthdate,\n            email: email1,\n            userName: userName\n        };\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.setDoc)(userDocRef, userData);\n        return {\n            success: true\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nasync function uploadImageToFirebaseStorage(file) {\n    const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.ref)(storage, file.name);\n    try {\n        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.uploadBytes)(storageRef, file);\n        const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.getDownloadURL)(storageRef);\n        return downloadURL;\n    } catch (error) {\n        console.error(\"Error al subir la imagen\", error);\n        return null;\n    }\n}\n// Función para el inicio de sesión y registro\nconst signIn = async (data, pass, createUser)=>{\n    try {\n        const method = createUser ? firebase_auth__WEBPACK_IMPORTED_MODULE_1__.createUserWithEmailAndPassword : firebase_auth_cordova__WEBPACK_IMPORTED_MODULE_2__.signInWithEmailAndPassword;\n        const result = await method(auth, data.email, pass);\n        // Si estás creando un usuario, se configura su información aquí\n        if (createUser) {\n            // Agregar información del usuario a Firestore después de un inicio de sesión exitoso\n            const userId = result.user.uid; // Obtener el ID del usuario\n            const userDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(firestore, \"users\", userId); // Referencia al documento del usuario\n            const userData = {\n                // Configura los datos del usuario que deseas almacenar\n                nombre: data.name,\n                apellido: data.lastName,\n                email: data.email,\n                fechaNacimiento: data.birthdate,\n                userName: data.username\n            };\n            // Agrega los datos del usuario a Firestore\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.setDoc)(userDocRef, userData);\n        }\n        return result;\n    } catch (error) {\n        console.error(\"Hubo un problema, revisa tus datos\");\n    }\n};\nconst handleResetPassword = async ()=>{\n    try {\n        const auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(); // Obtiene la instancia de autenticación de Firebase\n        await sendPasswordResetEmail(auth, email);\n        // La solicitud de restablecimiento de contraseña se envió con éxito\n        setSuccessMessage(\"Se ha enviado un correo electr\\xf3nico para restablecer tu contrase\\xf1a. Por favor, verifica tu bandeja de entrada.\");\n        setErrorMessage(\"\");\n    } catch (error) {\n        // Hubo un error al enviar la solicitud de restablecimiento de contraseña\n        setSuccessMessage(\"\");\n        setErrorMessage(\"Hubo un error al enviar la solicitud de restablecimiento de contrase\\xf1a. Verifica que el correo electr\\xf3nico sea v\\xe1lido.\");\n    }\n};\nconst useAuth = ()=>{\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        // Escucha cambios en el estado de autenticación\n        const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.onAuthStateChanged)(auth, (firebaseUser)=>{\n            setUser(firebaseUser);\n        });\n        // Limpia la suscripción cuando el componente se desmonta\n        return ()=>unsubscribe();\n    }, []);\n    const cerrarSesion = ()=>{\n        // Cierra la sesión del usuario\n        (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.signOut)(auth);\n    };\n    return {\n        user,\n        cerrarSesion\n    };\n};\n_s(useAuth, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\nconst createGame = async (gameData)=>{\n    console.log(gameData, \"firebase\");\n    try {\n        let collectionName = \"juegos\";\n        if (gameData.type === \"Card\") {\n            collectionName = \"tarjeta\";\n        }\n        const gameDocRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(firestore, collectionName), gameData);\n        console.log(gameDocRef.id);\n        return {\n            success: true,\n            gameId: gameDocRef.id\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst updateGame = async (gameId, updatedGameData)=>{\n    try {\n        await updateDoc((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(firestore, \"juegos\", gameId), updatedGameData);\n        return {\n            success: true\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst getGames = async ()=>{\n    try {\n        const gamesCollection = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(firestore, \"juegos\");\n        const gamesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)(gamesCollection);\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(gamesQuery);\n        const games = [];\n        snapshot.forEach((doc)=>{\n            const gameData = doc.data();\n            games.push({\n                id: doc.id,\n                ...gameData\n            });\n        });\n        return {\n            success: true,\n            games\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst getCards = async ()=>{\n    try {\n        const gamesCollection = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(firestore, \"tarjeta\");\n        const gamesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)(gamesCollection);\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(gamesQuery);\n        const card = [];\n        snapshot.forEach((doc)=>{\n            const gameData = doc.data();\n            card.push({\n                id: doc.id,\n                ...gameData\n            });\n        });\n        return {\n            success: true,\n            card\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\nconst getGameDetails = async (gameId)=>{\n    try {\n        const gameDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(firestore, \"juegos\", gameId);\n        const gameDocSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(gameDocRef);\n        if (gameDocSnapshot.exists()) {\n            // El documento del juego existe\n            return gameDocSnapshot.data();\n        } else {\n            // El documento del juego no existe\n            return null;\n        }\n    } catch (error) {\n        console.error(\"Error al obtener detalles del juego\", error);\n        return null;\n    }\n};\nconst getCardDetails = async (gameId)=>{\n    try {\n        const gameDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(firestore, \"tarjeta\", gameId);\n        const gameDocSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(gameDocRef);\n        if (gameDocSnapshot.exists()) {\n            // El documento del juego existe\n            return gameDocSnapshot.data();\n        } else {\n            // El documento del juego no existe\n            return null;\n        }\n    } catch (error) {\n        console.error(\"Error al obtener detalles del juego\", error);\n        return null;\n    }\n};\nconst searchGamesByName = async (searchQuery)=>{\n    try {\n        const gamesCollection = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(firestore, \"juegos\");\n        const gamesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)(gamesCollection, where(\"nombre\", \">=\", searchQuery).where(\"nombre\", \"<=\", searchQuery + \"\"));\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(gamesQuery);\n        console.log(gamesQuery);\n        const results = [];\n        snapshot.forEach((doc)=>{\n            const gameData = doc.data();\n            results.push({\n                id: doc.id,\n                ...gameData\n            });\n        });\n        return results;\n    } catch (error) {\n        console.error(\"Error al buscar juegos:\", error);\n        return [];\n    }\n};\nconst deleteGame = async (gameId)=>{\n    try {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(firestore, \"juegos\", gameId));\n        return {\n            success: true\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvc2VydmljZXMvZmlyZWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQ0FBK0M7O0FBQ0Y7QUFDMkI7QUFDTDtBQVd2QztBQUNHO0FBQ2E7QUFDZ0I7QUFDVTtBQUNsQjtBQUVwRCwyQkFBMkI7QUFDM0IsdURBQXVEO0FBQ3ZELHNEQUFzRDtBQUN0RCxxQ0FBcUM7QUFDckMscURBQXFEO0FBQ3JELHVDQUF1QztBQUN2Qyx3REFBd0Q7QUFDeEQsbUNBQW1DO0FBQ25DLEtBQUs7QUFDTCxNQUFNdUIsaUJBQWlCO0lBQ3JCQyxRQUFRO0lBQ1JDLFlBQVk7SUFDWkMsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLG1CQUFtQjtJQUNuQkMsT0FBTztBQUNUO0FBQ0Esc0JBQXNCO0FBQ3RCLE1BQU1DLE1BQU05QiwyREFBYUEsQ0FBQ3VCO0FBQzFCLE1BQU1RLE9BQU85QixzREFBT0E7QUFDcEIsTUFBTStCLFlBQVk1QixnRUFBWUEsQ0FBQzBCLE1BQU0sOENBQThDO0FBQ25GLE1BQU1HLFVBQVVkLDREQUFVQSxDQUFDVztBQUNwQixNQUFNSSxlQUFlLE9BQzFCQyxRQUNBQyxVQUNBQyxNQUNBQyxVQUNBQyxVQUNBQztJQUVBLElBQUk7UUFDRiw2Q0FBNkM7UUFDN0MsTUFBTUMsaUJBQWlCLE1BQU12Qyw2RUFBOEJBLENBQ3pENkIsTUFDQUksUUFDQUM7UUFHRiw4REFBOEQ7UUFDOUQsTUFBTU0sU0FBU0QsZUFBZUUsSUFBSSxDQUFDQyxHQUFHO1FBRXRDLG1GQUFtRjtRQUNuRixNQUFNQyxhQUFheEMsdURBQUdBLENBQUMyQixXQUFXLFNBQVNVO1FBQzNDLE1BQU1JLFdBQVc7WUFDZkMsUUFBUVY7WUFDUlcsVUFBVVY7WUFDVlcsaUJBQWlCVDtZQUNqQkwsT0FBT0E7WUFDUEksVUFBVUE7UUFDWjtRQUNBLE1BQU1qQywwREFBTUEsQ0FBQ3VDLFlBQVlDO1FBRXpCLE9BQU87WUFBRUks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RSx5REFBS0EsQ0FBQzRFLGlCQUFpQmMsTUFBTSxVQUFVLE1BQU1ELGFBQWFDLEtBQUssQ0FBQyxVQUFVLE1BQU1ELGNBQWM7UUFDakgsTUFBTVgsV0FBVyxNQUFNN0UsMkRBQU9BLENBQUM0RTtRQUNqQzlCLFFBQVFtQixHQUFHLENBQUNXO1FBQ1YsTUFBTWMsVUFBVSxFQUFFO1FBRWxCYixTQUFTRSxPQUFPLENBQUMsQ0FBQ3BGO1lBQ2hCLE1BQU1xRSxXQUFXckUsSUFBSXFELElBQUk7WUFDekIwQyxRQUFRVixJQUFJLENBQUM7Z0JBQUVYLElBQUkxRSxJQUFJMEUsRUFBRTtnQkFBRSxHQUFHTCxRQUFRO1lBQUM7UUFDekM7UUFFQSxPQUFPMEI7SUFDVCxFQUFFLE9BQU9qRCxPQUFPO1FBQ2RLLFFBQVFMLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU8sRUFBRTtJQUNYO0FBQ0YsRUFBRTtBQUVLLE1BQU1rRCxhQUFhLE9BQU9yQjtJQUMvQixJQUFJO1FBQ0YsTUFBTXJFLDZEQUFTQSxDQUFDTix1REFBR0EsQ0FBQzJCLFdBQVcsVUFBVWdEO1FBQ3pDLE9BQU87WUFBRTlCLFNBQVM7UUFBSztJQUN6QixFQUFFLE9BQU9DLE9BQU87UUFDZCxPQUFPO1lBQUVELFNBQVM7WUFBT0MsT0FBT0EsTUFBTXRDLE9BQU87UUFBQztJQUNoRDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9zZXJ2aWNlcy9maXJlYmFzZS5qcz9hODY5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydGEgbGFzIGZ1bmNpb25lcyBuZWNlc2FyaWFzIGRlIEZpcmViYXNlXHJcbmltcG9ydCB7IGluaXRpYWxpemVBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XHJcbmltcG9ydCB7IGdldEF1dGgsIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCB9IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XHJcbmltcG9ydCB7IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIH0gZnJvbSBcImZpcmViYXNlL2F1dGgvY29yZG92YVwiO1xyXG5pbXBvcnQge1xyXG4gIGdldEZpcmVzdG9yZSxcclxuICBkb2MsXHJcbiAgc2V0RG9jLFxyXG4gIGFkZERvYyxcclxuICBjb2xsZWN0aW9uLFxyXG4gIHF1ZXJ5LFxyXG4gIGdldERvY3MsXHJcbiAgZGVsZXRlRG9jLFxyXG4gIGdldERvYyxcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tIFwiYW50ZFwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IG9uQXV0aFN0YXRlQ2hhbmdlZCwgc2lnbk91dCB9IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XHJcbmltcG9ydCB7IGdldERvd25sb2FkVVJMLCBnZXRTdG9yYWdlLCBnZXRVUkwgfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xyXG5pbXBvcnQgeyByZWYsIHVwbG9hZEJ5dGVzIH0gZnJvbSBcImZpcmViYXNlL3N0b3JhZ2VcIjtcclxuXHJcbi8vIGNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xyXG4vLyAgIGFwaUtleTogXCJBSXphU3lCNEctd1REQm1Fb1ZPYlpNRVVZS1I4eDFfS084aHloTW9cIixcclxuLy8gICBhdXRoRG9tYWluOiBcInBpeGVsLXBhbGFjZS1kNmJmZi5maXJlYmFzZWFwcC5jb21cIixcclxuLy8gICBwcm9qZWN0SWQ6IFwicGl4ZWwtcGFsYWNlLWQ2YmZmXCIsXHJcbi8vICAgc3RvcmFnZUJ1Y2tldDogXCJwaXhlbC1wYWxhY2UtZDZiZmYuYXBwc3BvdC5jb21cIixcclxuLy8gICBtZXNzYWdpbmdTZW5kZXJJZDogXCIyNzM3NjYyNTg4ODhcIixcclxuLy8gICBhcHBJZDogXCIxOjI3Mzc2NjI1ODg4ODp3ZWI6ODFjYTA1NjhjOTE0ZmJjZWFjZWRmZFwiLFxyXG4vLyAgIG1lYXN1cmVtZW50SWQ6IFwiRy0yUDFDWTlaUkcwXCIsXHJcbi8vIH07XHJcbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xyXG4gIGFwaUtleTogXCJBSXphU3lCLWZBOWt2MERWRFJxcmFnWUNnaWlfQzZRZ2otcEJHMXNcIixcclxuICBhdXRoRG9tYWluOiBcInBpeGVsLXBhbGFjZWJhY2x1cC5maXJlYmFzZWFwcC5jb21cIixcclxuICBwcm9qZWN0SWQ6IFwicGl4ZWwtcGFsYWNlYmFjbHVwXCIsXHJcbiAgc3RvcmFnZUJ1Y2tldDogXCJwaXhlbC1wYWxhY2ViYWNsdXAuYXBwc3BvdC5jb21cIixcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogXCIzNzIzOTE0MTIxMzdcIixcclxuICBhcHBJZDogXCIxOjM3MjM5MTQxMjEzNzp3ZWI6ZWYwNDkwY2M2ZjFhMTA0YjZhYzRiOFwiXHJcbn07XHJcbi8vIEluaWNpYWxpemEgRmlyZWJhc2VcclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmNvbnN0IGF1dGggPSBnZXRBdXRoKCk7XHJcbmNvbnN0IGZpcmVzdG9yZSA9IGdldEZpcmVzdG9yZShhcHApOyAvLyBBZ3JlZ2EgRmlyZXN0b3JlIGEgdHUgaW5zdGFuY2lhIGRlIEZpcmViYXNlXHJcbmNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKGFwcCk7XHJcbmV4cG9ydCBjb25zdCByZWdpc3RlclVzZXIgPSBhc3luYyAoXHJcbiAgZW1haWwsXHJcbiAgcGFzc3dvcmQsXHJcbiAgbmFtZSxcclxuICBsYXN0TmFtZSxcclxuICB1c2VyTmFtZSxcclxuICBiaXJ0aGRhdGVcclxuKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIENyZWEgdW4gdXN1YXJpbyBlbiBGaXJlYmFzZSBBdXRoZW50aWNhdGlvblxyXG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoXHJcbiAgICAgIGF1dGgsXHJcbiAgICAgIGVtYWlsLFxyXG4gICAgICBwYXNzd29yZFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBPYnTDqW4gZWwgSUQgZGUgdXN1YXJpbyBnZW5lcmFkbyBwb3IgRmlyZWJhc2UgQXV0aGVudGljYXRpb25cclxuICAgIGNvbnN0IHVzZXJJZCA9IHVzZXJDcmVkZW50aWFsLnVzZXIudWlkO1xyXG5cclxuICAgIC8vIENyZWEgdW4gbnVldm8gZG9jdW1lbnRvIGRlIHVzdWFyaW8gZW4gbGEgY29sZWNjacOzbiAndXNlcnMnIGVuIEZpcmViYXNlIEZpcmVzdG9yZVxyXG4gICAgY29uc3QgdXNlckRvY1JlZiA9IGRvYyhmaXJlc3RvcmUsIFwidXNlcnNcIiwgdXNlcklkKTtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgICBub21icmU6IG5hbWUsXHJcbiAgICAgIGFwZWxsaWRvOiBsYXN0TmFtZSxcclxuICAgICAgZmVjaGFOYWNpbWllbnRvOiBiaXJ0aGRhdGUsXHJcbiAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgdXNlck5hbWU6IHVzZXJOYW1lLFxyXG4gICAgfTtcclxuICAgIGF3YWl0IHNldERvYyh1c2VyRG9jUmVmLCB1c2VyRGF0YSk7XHJcblxyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBsb2FkSW1hZ2VUb0ZpcmViYXNlU3RvcmFnZShmaWxlKSB7XHJcbiAgY29uc3Qgc3RvcmFnZVJlZiA9IHJlZihzdG9yYWdlLCBmaWxlLm5hbWUpO1xyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgdXBsb2FkQnl0ZXMoc3RvcmFnZVJlZiwgZmlsZSk7XHJcbiAgICBjb25zdCBkb3dubG9hZFVSTCA9IGF3YWl0IGdldERvd25sb2FkVVJMKHN0b3JhZ2VSZWYpO1xyXG4gICAgcmV0dXJuIGRvd25sb2FkVVJMO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgc3ViaXIgbGEgaW1hZ2VuXCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsOyBcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmNpw7NuIHBhcmEgZWwgaW5pY2lvIGRlIHNlc2nDs24geSByZWdpc3Ryb1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ25JbiA9IGFzeW5jIChkYXRhLCBwYXNzLCBjcmVhdGVVc2VyKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IGNyZWF0ZVVzZXJcclxuICAgICAgPyBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmRcclxuICAgICAgOiBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZDtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1ldGhvZChhdXRoLCBkYXRhLmVtYWlsLCBwYXNzKTtcclxuICAgIC8vIFNpIGVzdMOhcyBjcmVhbmRvIHVuIHVzdWFyaW8sIHNlIGNvbmZpZ3VyYSBzdSBpbmZvcm1hY2nDs24gYXF1w61cclxuICAgIGlmIChjcmVhdGVVc2VyKSB7XHJcbiAgICAgIC8vIEFncmVnYXIgaW5mb3JtYWNpw7NuIGRlbCB1c3VhcmlvIGEgRmlyZXN0b3JlIGRlc3B1w6lzIGRlIHVuIGluaWNpbyBkZSBzZXNpw7NuIGV4aXRvc29cclxuICAgICAgY29uc3QgdXNlcklkID0gcmVzdWx0LnVzZXIudWlkOyAvLyBPYnRlbmVyIGVsIElEIGRlbCB1c3VhcmlvXHJcbiAgICAgIGNvbnN0IHVzZXJEb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcInVzZXJzXCIsIHVzZXJJZCk7IC8vIFJlZmVyZW5jaWEgYWwgZG9jdW1lbnRvIGRlbCB1c3VhcmlvXHJcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgICAgIC8vIENvbmZpZ3VyYSBsb3MgZGF0b3MgZGVsIHVzdWFyaW8gcXVlIGRlc2VhcyBhbG1hY2VuYXJcclxuICAgICAgICBub21icmU6IGRhdGEubmFtZSxcclxuICAgICAgICBhcGVsbGlkbzogZGF0YS5sYXN0TmFtZSxcclxuICAgICAgICBlbWFpbDogZGF0YS5lbWFpbCxcclxuICAgICAgICBmZWNoYU5hY2ltaWVudG86IGRhdGEuYmlydGhkYXRlLFxyXG4gICAgICAgIHVzZXJOYW1lOiBkYXRhLnVzZXJuYW1lLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gQWdyZWdhIGxvcyBkYXRvcyBkZWwgdXN1YXJpbyBhIEZpcmVzdG9yZVxyXG4gICAgICBhd2FpdCBzZXREb2ModXNlckRvY1JlZiwgdXNlckRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJIdWJvIHVuIHByb2JsZW1hLCByZXZpc2EgdHVzIGRhdG9zXCIpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVSZXNldFBhc3N3b3JkID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpOyAvLyBPYnRpZW5lIGxhIGluc3RhbmNpYSBkZSBhdXRlbnRpY2FjacOzbiBkZSBGaXJlYmFzZVxyXG4gICAgYXdhaXQgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhdXRoLCBlbWFpbCk7XHJcblxyXG4gICAgLy8gTGEgc29saWNpdHVkIGRlIHJlc3RhYmxlY2ltaWVudG8gZGUgY29udHJhc2XDsWEgc2UgZW52acOzIGNvbiDDqXhpdG9cclxuICAgIHNldFN1Y2Nlc3NNZXNzYWdlKFxyXG4gICAgICBcIlNlIGhhIGVudmlhZG8gdW4gY29ycmVvIGVsZWN0csOzbmljbyBwYXJhIHJlc3RhYmxlY2VyIHR1IGNvbnRyYXNlw7FhLiBQb3IgZmF2b3IsIHZlcmlmaWNhIHR1IGJhbmRlamEgZGUgZW50cmFkYS5cIlxyXG4gICAgKTtcclxuICAgIHNldEVycm9yTWVzc2FnZShcIlwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gSHVibyB1biBlcnJvciBhbCBlbnZpYXIgbGEgc29saWNpdHVkIGRlIHJlc3RhYmxlY2ltaWVudG8gZGUgY29udHJhc2XDsWFcclxuICAgIHNldFN1Y2Nlc3NNZXNzYWdlKFwiXCIpO1xyXG4gICAgc2V0RXJyb3JNZXNzYWdlKFxyXG4gICAgICBcIkh1Ym8gdW4gZXJyb3IgYWwgZW52aWFyIGxhIHNvbGljaXR1ZCBkZSByZXN0YWJsZWNpbWllbnRvIGRlIGNvbnRyYXNlw7FhLiBWZXJpZmljYSBxdWUgZWwgY29ycmVvIGVsZWN0csOzbmljbyBzZWEgdsOhbGlkby5cIlxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlQXV0aCA9ICgpID0+IHtcclxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gRXNjdWNoYSBjYW1iaW9zIGVuIGVsIGVzdGFkbyBkZSBhdXRlbnRpY2FjacOzblxyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgKGZpcmViYXNlVXNlcikgPT4ge1xyXG4gICAgICBzZXRVc2VyKGZpcmViYXNlVXNlcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBMaW1waWEgbGEgc3VzY3JpcGNpw7NuIGN1YW5kbyBlbCBjb21wb25lbnRlIHNlIGRlc21vbnRhXHJcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGNlcnJhclNlc2lvbiA9ICgpID0+IHtcclxuICAgIC8vIENpZXJyYSBsYSBzZXNpw7NuIGRlbCB1c3VhcmlvXHJcbiAgICBzaWduT3V0KGF1dGgpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IHVzZXIsIGNlcnJhclNlc2lvbiB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUdhbWUgPSBhc3luYyAoZ2FtZURhdGEpID0+IHtcclxuICBjb25zb2xlLmxvZyhnYW1lRGF0YSwgXCJmaXJlYmFzZVwiKTtcclxuICB0cnkge1xyXG4gICAgbGV0IGNvbGxlY3Rpb25OYW1lID0gXCJqdWVnb3NcIjsgXHJcblxyXG4gICAgaWYgKGdhbWVEYXRhLnR5cGUgPT09IFwiQ2FyZFwiKSB7XHJcbiAgICAgIGNvbGxlY3Rpb25OYW1lID0gXCJ0YXJqZXRhXCI7XHJcbiAgICB9XHJcbiAgICBjb25zdCBnYW1lRG9jUmVmID0gYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBjb2xsZWN0aW9uTmFtZSksIGdhbWVEYXRhKTtcclxuICAgIGNvbnNvbGUubG9nKGdhbWVEb2NSZWYuaWQpO1xyXG5cclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGdhbWVJZDogZ2FtZURvY1JlZi5pZCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlR2FtZSA9IGFzeW5jIChnYW1lSWQsIHVwZGF0ZWRHYW1lRGF0YSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGZpcmVzdG9yZSwgXCJqdWVnb3NcIiwgZ2FtZUlkKSwgdXBkYXRlZEdhbWVEYXRhKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2V0R2FtZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGdhbWVzQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImp1ZWdvc1wiKTtcclxuICAgIGNvbnN0IGdhbWVzUXVlcnkgPSBxdWVyeShnYW1lc0NvbGxlY3Rpb24pO1xyXG5cclxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhnYW1lc1F1ZXJ5KTtcclxuICAgIGNvbnN0IGdhbWVzID0gW107XHJcblxyXG4gICAgc25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgIGNvbnN0IGdhbWVEYXRhID0gZG9jLmRhdGEoKTtcclxuICAgICAgZ2FtZXMucHVzaCh7IGlkOiBkb2MuaWQsIC4uLmdhbWVEYXRhIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZ2FtZXMgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2V0Q2FyZHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGdhbWVzQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcInRhcmpldGFcIik7XHJcbiAgICBjb25zdCBnYW1lc1F1ZXJ5ID0gcXVlcnkoZ2FtZXNDb2xsZWN0aW9uKTtcclxuXHJcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoZ2FtZXNRdWVyeSk7XHJcbiAgICBjb25zdCBjYXJkID0gW107XHJcblxyXG4gICAgc25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgIGNvbnN0IGdhbWVEYXRhID0gZG9jLmRhdGEoKTtcclxuICAgICAgY2FyZC5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZ2FtZURhdGEgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjYXJkIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuZXhwb3J0IGNvbnN0IGdldEdhbWVEZXRhaWxzID0gYXN5bmMgKGdhbWVJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBnYW1lRG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJqdWVnb3NcIiwgZ2FtZUlkKVxyXG4gICAgY29uc3QgZ2FtZURvY1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jKGdhbWVEb2NSZWYpO1xyXG5cclxuICAgIGlmIChnYW1lRG9jU25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgLy8gRWwgZG9jdW1lbnRvIGRlbCBqdWVnbyBleGlzdGVcclxuICAgICAgcmV0dXJuIGdhbWVEb2NTbmFwc2hvdC5kYXRhKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEVsIGRvY3VtZW50byBkZWwganVlZ28gbm8gZXhpc3RlXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgb2J0ZW5lciBkZXRhbGxlcyBkZWwganVlZ29cIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldENhcmREZXRhaWxzID0gYXN5bmMgKGdhbWVJZCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBnYW1lRG9jUmVmID0gZG9jKGZpcmVzdG9yZSwgXCJ0YXJqZXRhXCIsIGdhbWVJZClcclxuICAgIGNvbnN0IGdhbWVEb2NTbmFwc2hvdCA9IGF3YWl0IGdldERvYyhnYW1lRG9jUmVmKTtcclxuXHJcbiAgICBpZiAoZ2FtZURvY1NuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgIC8vIEVsIGRvY3VtZW50byBkZWwganVlZ28gZXhpc3RlXHJcbiAgICAgIHJldHVybiBnYW1lRG9jU25hcHNob3QuZGF0YSgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBFbCBkb2N1bWVudG8gZGVsIGp1ZWdvIG5vIGV4aXN0ZVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgZGV0YWxsZXMgZGVsIGp1ZWdvXCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IGNvbnN0IHNlYXJjaEdhbWVzQnlOYW1lID0gYXN5bmMgKHNlYXJjaFF1ZXJ5KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGdhbWVzQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImp1ZWdvc1wiKTtcclxuICAgIGNvbnN0IGdhbWVzUXVlcnkgPSBxdWVyeShnYW1lc0NvbGxlY3Rpb24sIHdoZXJlKFwibm9tYnJlXCIsIFwiPj1cIiwgc2VhcmNoUXVlcnkpLndoZXJlKFwibm9tYnJlXCIsIFwiPD1cIiwgc2VhcmNoUXVlcnkgKyAnXFx1ZjhmZicpKTtcclxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhnYW1lc1F1ZXJ5KTtcclxuICBjb25zb2xlLmxvZyhnYW1lc1F1ZXJ5KTtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICBzbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHtcclxuICAgICAgY29uc3QgZ2FtZURhdGEgPSBkb2MuZGF0YSgpO1xyXG4gICAgICByZXN1bHRzLnB1c2goeyBpZDogZG9jLmlkLCAuLi5nYW1lRGF0YSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHRzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBidXNjYXIganVlZ29zOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlR2FtZSA9IGFzeW5jIChnYW1lSWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgZGVsZXRlRG9jKGRvYyhmaXJlc3RvcmUsIFwianVlZ29zXCIsIGdhbWVJZCkpO1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImluaXRpYWxpemVBcHAiLCJnZXRBdXRoIiwiY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkIiwic2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQiLCJnZXRGaXJlc3RvcmUiLCJkb2MiLCJzZXREb2MiLCJhZGREb2MiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJnZXREb2NzIiwiZGVsZXRlRG9jIiwiZ2V0RG9jIiwibWVzc2FnZSIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwic2lnbk91dCIsImdldERvd25sb2FkVVJMIiwiZ2V0U3RvcmFnZSIsImdldFVSTCIsInJlZiIsInVwbG9hZEJ5dGVzIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJhcHAiLCJhdXRoIiwiZmlyZXN0b3JlIiwic3RvcmFnZSIsInJlZ2lzdGVyVXNlciIsImVtYWlsIiwicGFzc3dvcmQiLCJuYW1lIiwibGFzdE5hbWUiLCJ1c2VyTmFtZSIsImJpcnRoZGF0ZSIsInVzZXJDcmVkZW50aWFsIiwidXNlcklkIiwidXNlciIsInVpZCIsInVzZXJEb2NSZWYiLCJ1c2VyRGF0YSIsIm5vbWJyZSIsImFwZWxsaWRvIiwiZmVjaGFOYWNpbWllbnRvIiwic3VjY2VzcyIsImVycm9yIiwidXBsb2FkSW1hZ2VUb0ZpcmViYXNlU3RvcmFnZSIsImZpbGUiLCJzdG9yYWdlUmVmIiwiZG93bmxvYWRVUkwiLCJjb25zb2xlIiwic2lnbkluIiwiZGF0YSIsInBhc3MiLCJjcmVhdGVVc2VyIiwibWV0aG9kIiwicmVzdWx0IiwidXNlcm5hbWUiLCJoYW5kbGVSZXNldFBhc3N3b3JkIiwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbCIsInNldFN1Y2Nlc3NNZXNzYWdlIiwic2V0RXJyb3JNZXNzYWdlIiwidXNlQXV0aCIsInNldFVzZXIiLCJ1bnN1YnNjcmliZSIsImZpcmViYXNlVXNlciIsImNlcnJhclNlc2lvbiIsImNyZWF0ZUdhbWUiLCJnYW1lRGF0YSIsImxvZyIsImNvbGxlY3Rpb25OYW1lIiwidHlwZSIsImdhbWVEb2NSZWYiLCJpZCIsImdhbWVJZCIsInVwZGF0ZUdhbWUiLCJ1cGRhdGVkR2FtZURhdGEiLCJ1cGRhdGVEb2MiLCJnZXRHYW1lcyIsImdhbWVzQ29sbGVjdGlvbiIsImdhbWVzUXVlcnkiLCJzbmFwc2hvdCIsImdhbWVzIiwiZm9yRWFjaCIsInB1c2giLCJnZXRDYXJkcyIsImNhcmQiLCJnZXRHYW1lRGV0YWlscyIsImdhbWVEb2NTbmFwc2hvdCIsImV4aXN0cyIsImdldENhcmREZXRhaWxzIiwic2VhcmNoR2FtZXNCeU5hbWUiLCJzZWFyY2hRdWVyeSIsIndoZXJlIiwicmVzdWx0cyIsImRlbGV0ZUdhbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/services/firebase.js\n"));

/***/ })

});