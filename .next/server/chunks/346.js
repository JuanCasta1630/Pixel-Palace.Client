"use strict";exports.id=346,exports.ids=[346],exports.modules={10346:(e,a,t)=>{t.d(a,{Z:()=>Header});var s=t(30784),r=t(9885),l=t(57114),n=t(77829),i=t(80100),o=t(68602),d=t(64245);let login=({onClose:e})=>{let[a]=n.Z.useForm(),[t,c]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1);(0,l.useRouter)();let[g,u]=(0,r.useState)(""),[m,b]=(0,r.useState)(""),handleLogin=async()=>{if(!g||!m){c("Por favor complete todos los campos.");return}try{let a=await (0,d.zB)({email:g},m,!1);a?(h(!0),e()):o.ZP.error("Inicio de sesi\xf3n fallido. Verifica tus credenciales.")}catch(e){console.error("Error al iniciar sesi\xf3n:",e)}};return s.jsx("div",{className:"card dark:bg-white bg-gray-100 ",children:(0,s.jsxs)("div",{className:"card2 dark:bg-white bg-gray-100 ",children:[(0,s.jsxs)(n.Z,{className:"form dark:bg-gray-900 bg-gray-100",form:a,onFinish:()=>{handleLogin()},children:[s.jsx("p",{className:"heading text-gray-900 dark:text-white",children:"Login"}),(0,s.jsxs)("div",{className:"field dark:bg-gray-900 ",children:[s.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"input-icon",children:s.jsx("path",{d:"M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"})}),s.jsx("input",{type:"email",className:"input-field",value:g,onChange:e=>u(e.target.value),placeholder:"Username",autoComplete:"off",required:!0})]}),(0,s.jsxs)("div",{className:"field dark:bg-gray-900",children:[s.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"input-icon",children:s.jsx("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"})}),s.jsx("input",{type:"password",className:"input-field",placeholder:"Password",value:m,onChange:e=>b(e.target.value),required:!0})]}),s.jsx("div",{className:"btn",children:s.jsx("button",{className:"button1 text-white sm:w-1/2 xl:w-1/3 md:w-1/3 dark:text-white",type:"submit",children:"\xa0\xa0\xa0\xa0\xa0\xa0Login\xa0\xa0\xa0\xa0\xa0\xa0"})}),s.jsx("button",{className:"button3",onClick:()=>window.location.href="password",children:"Forgot Password"})]}),t&&s.jsx(i.Z,{message:t,type:"error",className:"mt-2"}),x&&o.ZP.info("Inicio de sesi\xf3n exitoso")]})})};var c=t(93725),x=t(13696);function RandomAvatar(){let e=function(){let e=Math.random().toString(36).substring(7),a=`https://robohash.org/${e}`;return a}();return s.jsx(x.ZP,{className:"dark:bg-gray-200 w-[5em] h-[3em]",src:e})}let registro=({onClose:e})=>{let[a,t]=(0,r.useState)(1),[l,n]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[g,u]=(0,r.useState)(""),[m,b]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[w,y]=(0,r.useState)(""),[f,N]=(0,r.useState)(""),[v,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),handleNext=async()=>{if(1===a){if(console.log(a),!l||!x||!g||!m){C("Por favor complete todos los campos.");return}t(2)}else if(2===a){if(p!==w){C("Las contrase\xf1as no coinciden.");return}let a=await (0,d.zB)({email:m,password:p,name:l,lastName:x,username:g,birthdate:f},p,!0);a?(k(!0),e()):o.ZP.error("Registration failed. The provided email is already associated with an existing account.")}};return s.jsx("div",{className:"card dark:bg-white bg-gray-100",children:(0,s.jsxs)("div",{className:"card2 bg-white p-8 rounded text-center w-100 h-100 dark:bg-gray-900",children:[s.jsx("h1",{className:"heading text-gray-900 dark:text-white",children:"Register"}),v?(0,s.jsxs)(s.Fragment,{children:[s.jsx(RandomAvatar,{}),s.jsx("p",{className:"text-green-600 mt-4 mb-4 dark:text-primary",children:"\xa1Successful registration!"})]}):(0,s.jsxs)("form",{className:"grid grid-cols-2 gap-4",children:[1===a&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{label:"Name",type:"text",value:l,onChange:e=>n(e.target.value),placeholder:"Your name",required:!0}),s.jsx(c.Z,{label:"Lastname",type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Your lastname",required:!0}),s.jsx(c.Z,{label:"User's Name",type:"text",value:g,onChange:e=>u(e.target.value),placeholder:"Your User's Name",required:!0}),s.jsx(c.Z,{label:"Email",type:"email",value:m,onChange:e=>b(e.target.value),placeholder:"Your email",required:!0})]}),2===a&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{label:"Password",type:"password",value:p,onChange:e=>j(e.target.value),placeholder:"Your password",required:!0}),s.jsx(c.Z,{label:"Password confirm",type:"password",value:w,onChange:e=>y(e.target.value),placeholder:"Confirm your password",required:!0}),s.jsx(c.Z,{label:"Birthday",type:"date",value:f,onChange:e=>N(e.target.value),placeholder:"Your birthday",required:!0})]}),(0,s.jsxs)("div",{className:"col-span-2 space-x-4",children:[2===a&&s.jsx("button",{type:"button",onClick:()=>{2===a&&t(1)},className:"button1 bg-green-600 hover:bg-green-500 text-white dark:bg-primary dark:hover:bg-green-700 dark:text-black w-1/3 py-3 rounded-md transition-colors duration-300 focus:outline-none focus:ring focus:ring-primary-500",children:"Back"}),s.jsx("button",{type:"button",onClick:handleNext,className:"button1 text-white w-1/3 dark:text-white",children:1===a?"Next":"Finish"})]})]}),S&&s.jsx(i.Z,{type:"success",className:"text-red-500 mt-2",message:S})]})})};var h=t(20444),g=t(79636),u=t.n(g),m=t(53275),b=t(21152);let{TabPane:p}=h.default,components_AuthModal=({isOpen:e,onClose:a,initialTab:t})=>{let[l,n]=(0,r.useState)(t);return(0,s.jsxs)(m.Z,{open:e,onCancel:a,footer:null,centered:!0,width:800,closeIcon:!1,className:"bg-white dark:bg-gray-500 rounded-md",children:[s.jsx("div",{className:"text-right",children:s.jsx(u(),{type:"text",onClick:a,children:s.jsx(b.default,{className:"dark:text-gray-100 text-gray-900"})})}),(0,s.jsxs)(h.default,{activeKey:l.toString(),onChange:e=>n(Number(e)),centered:!0,children:[s.jsx(p,{tab:s.jsx("span",{className:"dark:text-gray-100 text-gray-900",children:"Sign In"}),children:s.jsx(login,{onClose:a,isOpen:!1,initialTab:0})},"0"),s.jsx(p,{tab:s.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"Sign Up"}),children:s.jsx(registro,{onClose:a,isOpen:!1,initialTab:0})},"1")]})]})};var j=t(72781),w=t(81216),y=t(84490),f=t(62588),N=t(72427),v=t(67007),k=t(52451),S=t.n(k),C=t(71072);let Header=()=>{let[e,a]=(0,r.useState)(!1),[t,l]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[x,h]=(0,r.useState)(""),[g,u]=(0,r.useState)([]),{user:m,cerrarSesion:b}=(0,d.aC)(),openLoginModal=()=>{a(!0),o&&toggleMobileUser()},handleSignOut=async()=>{await b(),window.location.href="/"},openRegisterModal=()=>{l(!0),o&&toggleMobileUser()},toggleMobileMenu=()=>{i(!n)},toggleMobileUser=()=>{c(!o)},handleSearch=async()=>{if(""===x.trim()){u([]);return}let e=await (0,d.Ti)(x);u(e)},{systemTheme:p,theme:k,setTheme:Z}=(0,C.F)(),[M,P]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{P(!0)},[]),M)?s.jsx(C.f,{enableSystem:!0,attribute:"class",children:(0,s.jsxs)("div",{className:" bg-gradient-to-r from-teal-800 via-transparent to-indigo-800 p-4 flex items-center justify-between fixed w-full top-0 z-10 dark:bg-gradient-dark",children:[(0,s.jsxs)("nav",{className:"lg:hidden bg-teal-500",children:[s.jsx("button",{onClick:toggleMobileMenu,className:"bg-gray-900",children:s.jsx(N.Z,{className:"text-3xl dark: text-white"})}),n&&s.jsx(w.Z,{className:"bg-white absolute top-16 p-4 rounded shadow-md dark:bg-gray-900 text-gray-900",placement:"left",closable:!0,onClose:toggleMobileMenu,open:n,closeIcon:s.jsx(v.Z,{className:"text-white text-3xl"}),children:(0,s.jsxs)("ul",{className:"space-y-2 text-white",children:[s.jsx("li",{children:s.jsx("a",{href:"#",children:"Library"})}),s.jsx("li",{children:s.jsx("a",{href:"#",children:"News"})}),s.jsx("li",{children:s.jsx("a",{href:"#",children:"Community"})}),s.jsx("li",{children:s.jsx("a",{href:"#",children:"Support"})})]})})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-10 h-10 mr-2 flex items-center dark:bg-gray-700 bg-white",onClick:()=>window.location.href="/"}),s.jsx("h1",{className:"text-black text-xl font-bold dark:text-white",children:"Better if possible"})]}),(0,s.jsxs)("div",{className:"lg:hidden flex items-center space-x-4",children:[s.jsx(w.Z,{className:"bg-white absolute top-16 p-4 rounded shadow-md dark:bg-gray-900 text-gray-900",placement:"right",closable:!0,onClose:toggleMobileUser,open:o,closeIcon:s.jsx(v.Z,{className:"text-white text-3xl"}),children:(0,s.jsxs)("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(j.Z,{type:"text",placeholder:"Search",className:"input-field dark:text-white text-white border border-green-500 rounded ",value:x,onChange:e=>h(e.target.value),addonBefore:s.jsx(f.default,{className:"text-white text-3xl"}),onPressEnter:handleSearch})}),m?s.jsx("li",{children:s.jsx("button",{onClick:handleSignOut,className:"text-primary border rounded border-primary p-2 w-full",children:"Sign out"})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("li",{children:s.jsx("button",{onClick:openLoginModal,className:"button1 border rounded border-white p-2 w-full bg-white text-bold",children:"Sign in"})}),s.jsx("li",{children:s.jsx("button",{onClick:openRegisterModal,className:"button2 text-white bg-gray-900 rounded p-2 w-full",children:"Sign up"})})]})]})}),m||!m?s.jsx("button",{onClick:toggleMobileUser,className:"text-white",children:s.jsx(y.Z,{className:"text-3xl"})}):null]}),(0,s.jsxs)("div",{className:"lg:flex hidden items-center space-x-4",children:[s.jsx(j.Z,{type:"text",placeholder:"Search",className:" dark:text-black border border-gray-900 rounded",value:x,onChange:e=>h(e.target.value),addonBefore:s.jsx(f.default,{className:"text-white text-3xl dark:text-white"}),onPressEnter:handleSearch}),s.jsx("div",{children:"dark"===("system"===k?p:k)?(0,s.jsxs)("button",{className:"bg-black-700 hover:bg-gray-300 w-12 rounded-md border-primary border-2 p-3 dark:border-gray-600",onClick:()=>Z("light"),children:[" ",s.jsx(S(),{src:"/sun.svg",alt:"logo",height:"20",width:"20"})]}):s.jsx("button",{className:"bg-black-700 w-12 rounded-md border-primary border-2 p-3 hover:bg-gray-300 dark:border-gray-600",onClick:()=>Z("dark"),children:s.jsx(S(),{src:"/moon.svg",alt:"logo",height:"20",width:"20"})})}),m?(0,s.jsxs)(s.Fragment,{children:[s.jsx(RandomAvatar,{}),s.jsx("button",{onClick:b,className:"text-white",children:"Sign out"})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:openLoginModal,className:"text-black dark:text-white",style:{width:"100px"},children:"Sign in"}),s.jsx("span",{className:"text-black dark:text-white",children:"|"}),s.jsx("button",{onClick:openRegisterModal,className:"text-black dark:text-white ",style:{width:"100px"},children:"Sign up"})]})]}),s.jsx(components_AuthModal,{isOpen:e,onClose:()=>{a(!1)},initialTab:0}),s.jsx(components_AuthModal,{isOpen:t,onClose:()=>{l(!1)},initialTab:1})]})}):null}}};